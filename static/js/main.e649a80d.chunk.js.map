{"version":3,"sources":["components/Searchbar/Searchbar.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Button/Button.jsx","components/Loader/Loader.jsx","components/Modal/Modal.jsx","service/api.js","App/App.js","index.js"],"names":["Searchbar","onSubmit","onChange","className","type","autoComplete","autoFocus","placeholder","ImageGalleryItem","webformatURL","alt","largeImageURL","showModalImg","key","onClick","modalImage","src","ImageGallery","images","map","item","tags","id","Button","Loader","color","height","width","timeout","Modal","modalEscape","e","keyCode","props","handleClickBackdrop","currentTarget","target","window","addEventListener","this","removeEventListener","React","Component","axios","defaults","baseURL","setParams","params","getApi","query","page","safesearch","q","image_type","orientation","per_page","get","then","data","hits","catch","err","App","state","error","isLoading","searchForm","inputQuery","isModalOpen","renderImages","setState","length","Notiflix","Notify","failure","toUpperCase","prevState","finally","scrollTo","top","document","documentElement","scrollHeight","behavior","handleChange","value","submitSearchForm","preventDefault","handleButtonLoad","openModal","prevProps","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.e649a80d.chunk.js","sourcesContent":["import PropTypes from 'prop-types';\r\n\r\nconst Searchbar = ({ onSubmit, onChange }) => {\r\n    return (\r\n        <header className=\"Searchbar\">\r\n  <form className=\"SearchForm\" onSubmit={onSubmit}>\r\n    <button type=\"submit\" className=\"SearchForm-button\">\r\n      <span className=\"SearchForm-button-label\">Search</span>\r\n    </button>\r\n\r\n    <input\r\n      onChange={onChange}\r\n      className=\"SearchForm-input\"\r\n      type=\"text\"\r\n      autoComplete=\"off\"\r\n      autoFocus\r\n      placeholder=\"Search images and photos\"\r\n    />\r\n  </form>\r\n</header>\r\n    )\r\n}\r\n\r\nexport default Searchbar;\r\n\r\nSearchbar.propTypes = {\r\n  onSubmit: PropTypes.func.isRequired,\r\n  onChange: PropTypes.func.isRequired\r\n}","import PropTypes from 'prop-types';\r\n\r\nconst ImageGalleryItem = ({ webformatURL, alt, largeImageURL, showModalImg, ...key }) => {\r\n    return (\r\n        <li key={key} className=\"ImageGalleryItem\" onClick={() => showModalImg({modalImage: {\r\n            largeImageURL,\r\n            alt\r\n          }})}>\r\n            <img src={webformatURL} alt={alt} className=\"ImageGalleryItem-image\" />\r\n        </li>\r\n    )\r\n}\r\n\r\nexport default ImageGalleryItem;\r\n\r\nImageGalleryItem.propTypes = {\r\n    webformatURL: PropTypes.string.isRequired,\r\n    alt: PropTypes.string.isRequired,\r\n    largeImageURL: PropTypes.string.isRequired,\r\n    showModalImg: PropTypes.func.isRequired\r\n}","import PropTypes from 'prop-types';\r\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\r\n\r\nconst ImageGallery = ({images, showModalImg}) => {\r\n    return (\r\n        <ul className=\"ImageGallery\">\r\n        {images.map(item => \r\n            <ImageGalleryItem showModalImg={showModalImg} webformatURL={item.webformatURL} alt={item.tags} key={item.id} largeImageURL={item.largeImageURL}></ImageGalleryItem>\r\n            )\r\n            }\r\n        </ul>\r\n    )\r\n}\r\n\r\nexport default ImageGallery;\r\n\r\nImageGallery.propTypes = {\r\n    images: PropTypes.arrayOf(\r\n        PropTypes.shape({\r\n        webformatURL: PropTypes.string.isRequired,\r\n        tags: PropTypes.string.isRequired,\r\n        largeImageURL: PropTypes.string.isRequired,\r\n        id: PropTypes.number\r\n    })).isRequired,\r\n    showModalImg: PropTypes.func.isRequired\r\n}","import PropTypes from 'prop-types';\r\n\r\nconst Button = ({ onClick }) => {\r\n    return (\r\n        <div className=\"button-wrapper\">\r\n            <button onClick={onClick} type=\"button\" className=\"Button\">Load more</button>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Button;\r\n\r\nButton.propTypes = {\r\n    onClick: PropTypes.func.isRequired\r\n}","import LoaderSpinner from \"react-loader-spinner\";\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\n\r\nconst Loader = () => {\r\n  return (\r\n    <div className=\"loaderOverlay\">\r\n    <div className=\"loaderSpiner\">\r\n        <LoaderSpinner\r\n        type=\"ThreeDots\"\r\n        color=\"#1229aa\"\r\n        height={120}\r\n        width={150}\r\n      timeout={4000} //4 secs\r\n      />\r\n      </div>\r\n      </div>\r\n  )\r\n}\r\n\r\nexport default Loader;","import React from \"react\";\r\n\r\nclass Modal extends React.Component {\r\n     componentDidMount() {\r\n    window.addEventListener('keydown', this.modalEscape);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.modalEscape);\r\n  }\r\n\r\n  modalEscape = e => {\r\n    if (e.keyCode === 27) {\r\n      this.props.onClick();\r\n    }\r\n  };\r\n\r\n  handleClickBackdrop = e => {\r\n    if (e.currentTarget === e.target) {\r\n      this.props.onClick();\r\n    }\r\n  };\r\n\r\n    render() {\r\n        return (\r\n        <div className=\"Overlay\" onClick={this.handleClickBackdrop}>\r\n            <div className=\"Modal\">\r\n                    <img src={this.props.modalImage.largeImageURL} alt={this.props.modalImage.tags} />\r\n            </div>\r\n         </div>\r\n    )\r\n    }\r\n}\r\n\r\nexport default Modal;","import axios from \"axios\";\r\n\r\naxios.defaults.baseURL = \"https://pixabay.com/api/\";\r\nconst API_KEY = \"23801243-e85441bee56b02cd6046c9902\";\r\n\r\nconst setParams = (params) =>\r\n  (axios.defaults.params = { key: API_KEY, ...params });\r\n\r\nexport const getApi = (query, page = 1, safesearch = true) => {\r\n  setParams({\r\n    q: query,\r\n    image_type: \"photo\",\r\n    orientation: \"horizontal\",\r\n    per_page: 12,\r\n    page,\r\n    safesearch,\r\n  });\r\n  return axios\r\n    .get(axios.defaults.baseURL)\r\n    .then(({ data }) => data.hits)\r\n    .catch((err) => {\r\n      throw err;\r\n    });\r\n};\r\n\r\n// axios.defaults.baseURL = \"https://newsapi.org/v2/\";\r\n// const API_KEY = \"22e1feeab1ef4a16a87ba035c00cc49f\";\r\n\r\n// const setParams = (params) =>\r\n//   (axios.defaults.params = { apiKey: API_KEY, ...params });\r\n\r\n// export const getApi = (query = \"everything\", page = 1) => {\r\n//   setParams({\r\n//     q: query,\r\n//     per_page: 12,\r\n//     from: \"2021-10-05\",\r\n//     sortBy: \"publishedAt\",\r\n//     page,\r\n//   });\r\n//   return axios\r\n//     .get(`everything`)\r\n//     .then(({ data }) => data.articles)\r\n//     .catch((err) => {\r\n//       throw err;\r\n//     });\r\n// };\r\n","import \"./App.css\";\nimport React from \"react\";\nimport Searchbar from \"../components/Searchbar/Searchbar\";\nimport ImageGallery from \"../components/ImageGallery/ImageGallery\";\nimport Button from \"../components/Button/Button\";\nimport Loader from \"../components/Loader/Loader\";\nimport Modal from \"../components/Modal/Modal\";\nimport { getApi } from \"../service/api\";\nimport Notiflix from \"notiflix\";\n\nclass App extends React.Component {\n  state = {\n    images: [],\n    error: false,\n    isLoading: false,\n    searchForm: \"\",\n    inputQuery: \"\",\n    page: 0,\n    isModalOpen: false,\n    modalImage: {},\n  };\n\n  componentDidMount() {\n    this.setState({ isLoading: true });\n    getApi()\n      .then((hits) =>\n        this.setState({\n          images: hits,\n        })\n      )\n      .catch((err) => this.setState({ error: err }))\n      .finally(() => this.setState({ isLoading: false }));\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (\n      this.state.searchForm !== prevState.searchForm ||\n      this.state.page !== prevState.page\n    ) {\n      this.renderImages();\n    }\n  }\n\n  renderImages = () => {\n    this.setState({ isLoading: true });\n    getApi(this.state.searchForm, this.state.page)\n      .then((hits) => {\n        if (hits.length === 0) {\n          return Notiflix.Notify.failure(\n            `There is no results with ${this.state.searchForm.toUpperCase()} request`\n          );\n        }\n        this.setState((prevState) => ({\n          images: [...prevState.images, ...hits],\n        }));\n      })\n      .catch((err) => this.setState({ error: err }))\n      .finally(() => {\n        window.scrollTo({\n          top: document.documentElement.scrollHeight,\n          behavior: \"smooth\",\n        });\n        this.setState({ isLoading: false });\n      });\n  };\n\n  handleChange = (e) => {\n    this.setState({\n      inputQuery: e.target.value,\n    });\n  };\n\n  submitSearchForm = (e) => {\n    e.preventDefault();\n    this.setState({\n      searchForm: this.state.inputQuery,\n      page: 1,\n      images: [],\n    });\n  };\n\n  handleButtonLoad = () => {\n    this.setState((prevState) => ({ page: prevState.page + 1 }));\n  };\n\n  openModal = () => {\n    this.setState((prevState) => ({\n      isModalOpen: !prevState.isModalOpen,\n    }));\n  };\n\n  showModalImg = ({ modalImage }) => {\n    this.setState({ modalImage: modalImage });\n    this.openModal();\n  };\n\n  render() {\n    return (\n      <div className=\"container\">\n        <Searchbar\n          onSubmit={this.submitSearchForm}\n          onChange={this.handleChange}\n        ></Searchbar>\n        {this.state.isLoading && <Loader></Loader>}\n        {this.state.images.length !== 0 && (\n          <ImageGallery\n            images={this.state.images}\n            isModalOpen={this.state.isModalOpen}\n            showModalImg={this.showModalImg}\n          ></ImageGallery>\n        )}\n        {this.state.images.length !== 0 && (\n          <Button onClick={this.handleButtonLoad}></Button>\n        )}\n        {this.state.isModalOpen && (\n          <Modal\n            modalImage={this.state.modalImage}\n            onClick={this.openModal}\n          ></Modal>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport \"./styles.css\";\nimport App from \"../src/App/App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}